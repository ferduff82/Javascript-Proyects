<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <script src="jquery-ui/js/jquery-1.10.2.js"></script>
    <script src="jquery-ui/js/jquery-ui-1.10.4.custom.js"></script>
    <link rel="stylesheet" type="text/css" href="jquery-ui/css/ui-lightness/jquery-ui-1.10.4.custom.css">
<style>

.coral{
  background-color: coral;
}
.aquamarine{
  background-color: aquamarine;
}
.chocolate{
  background-color: chocolate;
}
.crimson{
  background-color: crimson;
}
.personalizados{
  background-color: cadetblue;
}

.coral:hover,
.aquamarine:hover,
.chocolate:hover,
.crimson:hover,
.personalizados:hover{
  background-color: blue !important;
}

.coral:active,
.aquamarine:active,
.chocolate:active,
.crimson:active,
.personalizados:active{
  background-color: blue !important;
}

.borrarCompra{
  float: right;
}

#editItem{
  margin-left:30px;
}

</style>

</head>
<body>

<h3>Control de gastos</h3>

<input type="text" name="lastname" id="categories" placeholder="Ingrese Categoría">
<input id="get-categories" type="button" value="Ingrese Categoría" />
<br>

<input type="text" name="lastname" id="product" placeholder="Ingrese Producto">
<input type="text" name="lastname" id="price" placeholder="Ingrese Precio">
<input type="text" name="lastname" id="brand" placeholder="Ingrese Marca">
<input type="text" name="lastname" id="kilos" placeholder="Ingrese Cantidad">
<input type="text" name="lastname" id="date" placeholder="Ingrese Fecha">
<select id="category">
  <option value="" disabled selected>Categoria</option>
  <option value="Supermercado">Supermercado</option>
  <option value="Impuestos">Impuestos</option>
  <option value="Salidas">Salidas</option>
  <option value="Varios">Varios</option>
</select>
<br>

<input id="get-values" type="button" value="Ingrese Gasto" />

<div id="demo"></div>
<div id="alert"></div>

<script>

/* Modelo */

function getValues( product ) {

  this.price = document.getElementById('price').value;
  this.kilos = document.getElementById('kilos').value;
  this.product = document.getElementById('product').value;
  this.date = document.getElementById('date').value;
  this.brand = document.getElementById('brand').value;
  this.category = document.getElementById('category').value;

  var a = isNaN(this.price);
  var b = isNaN(this.kilos);

  if (a === true && b === true) {
    alert("Price and kilos must be numbers");
    return false;
  } else {
 
    this.getInfoProduct = function () {
      return this.product;
    };

    this.getInfoDate = function () {
      return this.date;
    };

    this.getInfoPrice = function () {
      return this.price;
    };

    this.getInfoKilos = function () {
      return this.kilos;
    };

    this.getInfoBrand = function () {
      return this.brand;
    };

    this.getInfoCategory = function () {
      return this.category;
    };
  }
}

/*
    var objects = {items: [
          {id: "1", producto: "leche", fecha: "19/06", precio: "15", kilos: "1 litro", marca: "La Serenisima", categoría: "Varios" },
    ]};

    objects.items[0].id
/*

/* Instancias del Modelo */

function newProduct (){

  var nuevoGasto = new getValues(product);

    /* Push into array */

    var randomKey = Math.random();

    var objects = {key: []};

    objects.key.push(
          {id: randomKey, producto: nuevoGasto.getInfoProduct(), fecha: nuevoGasto.getInfoDate(), precio: nuevoGasto.getInfoPrice(), kilos: nuevoGasto.getInfoKilos(), marca: nuevoGasto.getInfoBrand(), categoria: nuevoGasto.getInfoCategory() }
    );

        alert("Su producto ha sido ingresado con éxito");
        console.log(objects.key[0].id);
        console.log(objects.key[0].producto);
        console.log(objects.key[0].fecha);
        console.log(objects.key[0].precio);
        console.log(objects.key[0].kilos);
        console.log(objects.key[0].marca);
        console.log(objects.key[0].categoria);

        /* Ejemplo de uso de LocalStorage */

        localStorage.setItem( 'object', objects );
        console.log( localStorage.getItem( 'object' ) );

        /* Loop array with for with background color change on category select */

        text = "";

        var getCategoryValue = objects.key[5];

        var createUl = document.createElement('ul');
        var getDemo = document.getElementById("demo");
        var createRemovePurchaseButton = document.createElement('input');
            createRemovePurchaseButton.setAttribute("type","button");
            createRemovePurchaseButton.setAttribute("value","Borrar Compra");
            createRemovePurchaseButton.setAttribute("class","borrarCompra");
            getDemo.appendChild(createUl);
            createUl.appendChild(createRemovePurchaseButton);

        for (var i = 0; i < objects.key[i].length; i++) {

          var newElem = document.createElement("li");
            newElem.innerHTML = text = objects.key[i];
          var createEditItem = document.createElement('input');
            createEditItem.setAttribute("type","button");
            createEditItem.setAttribute("value","Editar Item");
            createEditItem.setAttribute("id","editItem");
            newElem.appendChild(createEditItem);

          if (getCategoryValue == "Supermercado"){
            var getNumber = Math.random();
            createUl.setAttribute("id",getNumber);
            var selectUL = document.getElementById(getNumber);
                selectUL.classList.add('coral')
                selectUL.appendChild(newElem);
          } else if (getCategoryValue == "Impuestos"){
            var getNumber = Math.random();
            createUl.setAttribute("id",getNumber);
            var selectUL = document.getElementById(getNumber);
                selectUL.classList.add('aquamarine')
                selectUL.appendChild(newElem);
          } else if (getCategoryValue == "Salidas"){
            var getNumber = Math.random();
            createUl.setAttribute("id",getNumber);
            var selectUL = document.getElementById(getNumber);
                selectUL.classList.add('chocolate')
                selectUL.appendChild(newElem);
          } else if (getCategoryValue == "Varios"){
            var getNumber = Math.random();
            createUl.setAttribute("id",getNumber);
            var selectUL = document.getElementById(getNumber);
                selectUL.classList.add('crimson')
                selectUL.appendChild(newElem);
          } else {
            var getNumber = Math.random();
            createUl.setAttribute("id",getNumber);
            var selectUL = document.getElementById(getNumber);
                selectUL.classList.add('personalizados')
                selectUL.appendChild(newElem);
          }
        }

        /* Remueve los datos del input */

        document.getElementById('product').value=null;
        document.getElementById('date').value=null;
        document.getElementById('price').value=null;
        document.getElementById('kilos').value=null;
        document.getElementById('brand').value=null;

    /* Eventos dentro de final de función */

    /* Borrar Compra */

    $(".borrarCompra").on( "click", function() {
        $(this).parent("ul").remove();
        alert("Compra borrada");
        $("#alert").text("Element removido");
    });

    /* Editar Item */

    $(".editarItem").on( "click", function() {
        var person = prompt("Please enter your name","Harry Potter");
        if (person != null) {
            this.innerHTML = "Hello " + person + "! How are you today?";
        }
    });

}

/* Agregar categorías */

function createCategories (){

  var getCategorieValue = document.getElementById('categories').value;

  if (getCategorieValue.length<3) {
      alert("Es necesario ingresar 3 letras por categoría por lo menos");
      return false;
  } else {

  var newElem = document.createElement ("option");
  newElem.innerHTML = getCategorieValue;
  var container = document.getElementById ("category");
  container.appendChild (newElem);
  alert("Su categoría "+ getCategorieValue +" se ha ingresado con éxito");

  /* Remueve los datos del input */

  document.getElementById('categories').value=null;

  }
}

/* Eventos */

document.getElementById('get-values').onclick = newProduct;
document.getElementById('get-categories').onclick = createCategories;

/* Evento datepicker*/

$( function() {
  $( "#date" ).datepicker();
});

/* Uso de argumentos

var test = "hola";

alertar();

function alertar(test){
  alert(test);
}

*/

</script>
</body>
</html>